FROM alpine:latest

RUN apk --no-cache add bash curl apk-cron

COPY batch_script.sh /usr/local/bin/batch_script.sh

RUN chmod +x /usr/local/bin/batch_script.sh

RUN echo "* * * * * /usr/local/bin/batch_script.sh >> /var/log/cron.log 2>&1" > /etc/crontabs/root

CMD ["sh", "-c", "cron && tail -f /var/log/cron.log"]
